@startuml UiInputCycle
participant "Caller Loop" as Caller
participant "Ui.waitForInput()" as Ui
participant "Console\n(System.out)" as Console
participant "Scanner\n(System.in)" as Scanner
participant "Logger" as Logger

Caller -> Ui : waitForInput()
activate Ui
Ui -> Console : print("> ")
activate Console
Console --> Ui : done
deactivate Console
Ui -> Scanner : nextLine()
activate Scanner
alt line available
    Scanner --> Ui : rawLine
    deactivate Scanner
    Ui -> Ui : trim()
    Ui --> Caller : trimmedLine
    deactivate Ui
else NoSuchElementException / IllegalStateException
    Scanner --> Ui : throws
    deactivate Scanner
    Ui -> Logger : log(Level.SEVERE,\n"Input stream unavailable")
    activate Logger
    Logger --> Ui : recorded
    deactivate Logger
    Ui --> Caller : EXIT_COMMAND
    deactivate Ui
end
@enduml